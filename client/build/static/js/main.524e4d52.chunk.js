(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{45:function(e,t,a){e.exports=a.p+"static/media/logo_eduLEAN.9308f86e.png"},46:function(e,t,a){e.exports=a.p+"static/media/logo_ekopak.a0b89b36.png"},48:function(e,t,a){e.exports=a(92)},89:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(25),o=a.n(s),i=a(5),c=a(6),l=a(9),u=a(7),p=a(8),m=a(96),d=a(97),h=a(4),f=a(22),b=a.n(f),v=a(11),_=a(19),k=a(1),y=a.n(k),g=a(3),E=a(18),w=a(10),j=a.n(w);var x={runFunctionAfterPressEnter:function(e,t){13===e.charCode&&t()},getCustomTaskCss:function(e,t){return"#"===e?"task-box__"+t+"_index":"content"===e?"task-box__"+t+"_content":"status"===e?"task-box__"+t+"_status":"qty"===e?"task-box__"+t+"_qty":"partialQty"===e?"task-box__"+t+"_partialQty":"location"===e?"task-box__"+t+"_location":"time"===e?"task-box__"+t+"_time":"take"===e?"task-box__"+t+"_take":"btnClose"===e?"task-box__"+t+"_btnClose":"takedBy"===e?"task-box__"+t+"_takedBy":"createdInFormatedData"===e?"task-box__"+t+"_createdInFormatedData":"btnDelete"===e?"task-box__"+t+"_btnDelete":void 0},getDateFromTaskCreatedIn:function(e){return e.slice(0,10)},getTimeFromTaskCreatedIn:function(e){return e.slice(11,19)}},O=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a.handleInputOnChange=function(e){var t=e.currentTarget,n=Object(v.a)({},a.state.item);n[t.name]=t.value,a.setState({item:n})},a.validate=function(e){var t=j.a.validate(e,a.schema).error;return t?t.details[0].message:null},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"renderInputBoxGroup",value:function(e,t,a,n,s,o){var i=this,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this.handleInputOnChange;return r.a.createElement("div",{className:"confirmAlertInput__input-box_group"},r.a.createElement("p",null,e),r.a.createElement("input",{name:t,type:a,placeholder:n,autoComplete:"off",autoFocus:o,onChange:c,onKeyPress:function(e){return x.runFunctionAfterPressEnter(e,function(){return i.doSubmit(s)})}}))}},{key:"renderButton",value:function(e,t,a){return r.a.createElement("button",{className:a,onClick:t},e)}}]),t}(n.Component),N=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={},a.schema={content:j.a.string().max(40).required().error(function(){return{message:a.errorMessages.content}}),type:j.a.string().required(),location:j.a.string(),createdBy:j.a.string()},a.errorMessages={content:"Tre\u015b\u0107 zdarzenia nie mo\u017ce by\u0107 pusta i mo\u017ce mie\u0107 maks. 40 znak\xf3w.",qty:'Pole "Ilo\u015b\u0107" nie mo\u017ce by\u0107 puste a warto\u015b\u0107 by\u0107 liczb\u0105 z zakresu 1 - 9999.'},a.submit=function(){a.resetTaskData(),Object(E.confirmAlert)({customUI:function(e){var t=e.onClose,n=a.props.form,s=n.title,o=n.content,i=n.p_label,c=n.p_label_2;return r.a.createElement("div",{className:"confirmAlertInput"},r.a.createElement("h1",null,s),r.a.createElement("div",{className:"confirmAlertInput__input-box"},a.renderInputBoxGroup(i,"content","text",o,t,"autoFocus"),c&&a.renderInputBoxGroup(c,"qty","number","Podaj ilo\u015b\u0107",t)),r.a.createElement("div",{className:"confirmAlertInput__button-group"},a.renderButton("Dodaj",function(){return a.doSubmit(t)}),a.renderButton("Anuluj",t)))}})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e={content:this.props.form.content,type:this.props.button.type};"order"===this.props.button.type&&(this.addQtyToSchema(),e.qty=null),this.setState({item:e})}},{key:"addQtyToSchema",value:function(){var e=this;return this.schema.qty=j.a.number().min(1).max(9999).required().error(function(){return{message:e.errorMessages.qty}})}},{key:"resetTaskData",value:function(){var e=Object(v.a)({},this.state.item);e.content=this.props.form.content,"order"===this.props.button.type&&(e.qty=""),this.setState({item:e})}},{key:"doSubmit",value:function(e){var t=this.state.item,a=this.validate(t);if(a)return h.toast.error(a),null;this.props.form.action(t),e()}},{key:"render",value:function(){return r.a.createElement("div",{className:"app__header_headerButtons-wrap"},this.renderButton(this.props.button.label,this.submit,"btn btn-secondary"))}}]),t}(O),z=a(17),T=a.n(z);T.a.defaults.baseURL="https://monitor-zlecen-01.herokuapp.com/api",T.a.interceptors.response.use(null,function(e){return e.response&&e.response.status>=400&&e.request.status<500||(h.toast.error("Brak po\u0142\u0105czenia z serwerem."),setTimeout(function(){return h.toast.error("Sprawd\u017a czy masz dost\u0119p do internetu.")},2500),setTimeout(function(){return h.toast.error("Je\u017celi internet dzia\u0142a, powiadom administratora programu o problemie.")},5e3)),Promise.reject(e)});var C={get:T.a.get,post:T.a.post,put:T.a.put,patch:T.a.patch,delete:T.a.delete,setJwt:function(e){console.log(e,"jwt"),T.a.defaults.headers.common["x-auth-token"]=e}},U="/users",S={Operator:1,Magazynier:2,"Prac. utrz. ruchu":3,Koordynator:10,Mistrz:11,Kierownik:12,Dyrektor:13,Prezes:14,Admin:100,SuperAdmin:1e3};function M(){return(M=Object(g.a)(y.a.mark(function e(){var t,a,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=q("Admin"),e.next=3,C.get(U);case 3:return a=e.sent,n=a.data,n=(n=t?n:n.filter(function(e){return"Admin"!==e.job&&"SuperAdmin"!==e.job})).sort(function(e,t){return R(t.job)-R(e.job)}),e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function D(){return(D=Object(g.a)(y.a.mark(function e(t){var a,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get(U+"/"+t._id);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function L(){return(L=Object(g.a)(y.a.mark(function e(t){var a,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.post(U,t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function I(){return(I=Object(g.a)(y.a.mark(function e(t){var a,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.put(U+"/"+t._id,t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function P(){return(P=Object(g.a)(y.a.mark(function e(t){var a,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.delete(U+"/"+t._id);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function A(){return(A=Object(g.a)(y.a.mark(function e(){var t;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=F(),localStorage.removeItem("token"),e.next=4,C.patch(U+"/"+t._id,{isLogged:!1});case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function B(){return(B=Object(g.a)(y.a.mark(function e(t){var a,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.patch("/resetPassword/"+t._id,{password:t.password});case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function F(){var e=localStorage.getItem("token");return e?b()(e):void 0}function q(e){return R(F().job)>=S[e]}function R(e){return S[e]}var W={getUsers:function(){return M.apply(this,arguments)},getUser:function(e){return D.apply(this,arguments)},addUser:function(e){return L.apply(this,arguments)},updateUser:function(e){return I.apply(this,arguments)},deleteUser:function(e){return P.apply(this,arguments)},logoutUser:function(){return A.apply(this,arguments)},resetUserPassword:function(e){return B.apply(this,arguments)},getUserFromJWT:F,getUserJobName:function(e){for(var t in S)if(S[t]===e.job)return t},getUserJobValue:R,isCurrentUserLessThan:function(e){return R(F().job)<S[e]},isCurrentUserLessThanORequalTo:function(e){return R(F().job)<=S[e]},isCurrentUserGreaterThan:function(e){return R(F().job)>S[e]},isCurrentUserGreaterThanORequalTo:q,isCurrentUserEqualTo:function(e){return R(F().job)===S[e]}},J=a(93),G=function(e){var t=e.label,a=e.path,n=e.icon;return r.a.createElement(J.a,{to:a},r.a.createElement("li",{className:"app__header-menu_item app__header-menu_item-main"},r.a.createElement("i",{className:"fa fas "+n}),r.a.createElement("p",null,t)))},K=function(e){var t=e.item,a=e.action;return r.a.createElement(J.a,{to:t.path},r.a.createElement("li",{className:"app__header-menu_item",onClick:a},t.category&&function(){var e;return"Magazyn"===t.category?e="cubes":"Maszyna"===t.category?e="cubes invisible":"Utrzymanie ruchu"===t.category&&(e="wrench"),r.a.createElement("i",{className:"fa fas fa-"+e})}(),t.name||t.label))},Q=function(e){var t=e.items,a=e.action;return t.map(function(e){return r.a.createElement(K,{key:e.name||e.label,item:e,action:function(){return a(e)}})})},Z=function(e){var t=[{label:"Zam\xf3w formatk\u0119",type:"order"},{label:"Odbi\xf3r palet",type:"orderTakeout"},{label:"Awaria",type:"breakdown"},{label:"Przezbrojenie",type:"modelChange"},{label:"Czyszczenie",type:"cleaning"}],a=["Operator","Magazynier","Prac. utrz. ruchu","Koordynator","Mistrz","Kierownik","Dyrektor","Prezes","Admin","SuperAdmin"],n={title:"Dodaj zdarzenie",p_label:"Tre\u015b\u0107",btn_css:"btn btn-success btn-sm",action:function(t){return e.onhandleAddTask(t)}};function s(e){var t=Object(v.a)({},n);return t.content="Zam\xf3w formatk\u0119"===e.label?"":e.label,t.p_label_2="order"===e.type?"Ilo\u015b\u0107":"",t}var o=e.currentLocation,i=e.serviceMode,c=W.isCurrentUserGreaterThanORequalTo("Koordynator");return r.a.createElement("header",{className:"app__header"},i&&function(){function t(t){return t===e.serviceMode_jobName?"btn btn-light btn-sm":"btn btn-outline-light btn-sm"}return r.a.createElement("div",{className:"app__header_header-buttons-wrapper-service"},r.a.createElement("i",{className:"fa fas fa-cogs"}),r.a.createElement("div",{className:"app__header_headerButtons-service"},a.map(function(a){return r.a.createElement("button",{key:a,className:t(a),onClick:function(){return e.onhandleChangeServiceModeJob(a)}},a)})))}(),"Maszyna"===o.category&&r.a.createElement("div",{className:"app__header_header-buttons-wrapper"},r.a.createElement("i",{className:"fa fas fa-cart-arrow-down"}),r.a.createElement("div",{className:"app__header_headerButtons"},t.map(function(e){return r.a.createElement(N,{key:e.label,button:e,form:s(e)})}))),r.a.createElement("div",{className:"app__header_title-barIcon-wrapper"},r.a.createElement("div",{className:"app__header-title"},o.name),c&&function(){var t=e.validLocations,a=e.onChangeCurrentLocation,n=W.isCurrentUserGreaterThanORequalTo("Admin");return r.a.createElement("div",{className:"app__header-barIcon"},r.a.createElement("i",{className:"fa far fa-bars fa-3x"}),r.a.createElement("ul",{className:"app__header-menu"},n&&function(){var t=e.serviceMode?"fa fa-toggle-on":"fa fa-toggle-off";return r.a.createElement("li",{className:"app__header-menu_item",onClick:function(){return e.onhandleChangeServiceMode()}},r.a.createElement("i",{className:t}),"Tryb testu widok\xf3w")}(),r.a.createElement(G,{label:"Ustawienia",path:"/settings/",icon:"fa-cog"}),r.a.createElement(Q,{items:t,action:a})))}()))},V="/localisations",H={Magazyn:3,"Utrzymanie ruchu":2,Maszyna:1};function X(){return Y.apply(this,arguments)}function Y(){return(Y=Object(g.a)(y.a.mark(function e(){var t,a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.get(V);case 3:return t=e.sent,a=t.data,e.abrupt("return",a.sort(function(e,t){return re(t.category)-re(e.category)}));case 8:e.prev=8,e.t0=e.catch(0),h.toast.error("Nie mo\u017cna uzyska\u0107 danych o lokalizacjach.");case 11:case"end":return e.stop()}},e,this,[[0,8]])}))).apply(this,arguments)}function $(){return($=Object(g.a)(y.a.mark(function e(t){var a,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.post(V,t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ee(){return(ee=Object(g.a)(y.a.mark(function e(t){var a,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.put(V+"/"+t._id,t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function te(){return(te=Object(g.a)(y.a.mark(function e(t){var a,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.delete(V+"/"+t._id);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ae(){return(ae=Object(g.a)(y.a.mark(function e(){var t,a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=W.getUserFromJWT(),e.next=3,X();case 3:return a=e.sent,e.abrupt("return",a.filter(function(e){return t.permissions.indexOf(e.category)>=0}));case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ne(){return(ne=Object(g.a)(y.a.mark(function e(t){var a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=W.getUserFromJWT().validLocalisations,e.abrupt("return",t?a.filter(function(e){return e.name===t})[0]:null);case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function re(e){return H[e]}var se={getLocalisations:X,addLocalisation:function(e){return $.apply(this,arguments)},updateLocalisation:function(e){return ee.apply(this,arguments)},deleteLocalisation:function(e){return te.apply(this,arguments)},getUserPermisions_fromJWT:function(){var e=localStorage.getItem("token");return b()(e).permissions},getSelectedLocalisation:function(e){return ne.apply(this,arguments)},getLocalisationPriorityValue:re,getVerifiedUserLocalisations:function(){return ae.apply(this,arguments)}},oe=function(e){var t=e.currentSortingStatus,a=e.deleteTaskMode,n=e.onChangeSortingStatus,s=e.onhandleChangeDeleteTaskMode,o=[{label:"W trakcie",path:!1},{label:"Zako\u0144czone",path:!0},{label:"Wszystkie",path:"All"}];var i=W.isCurrentUserGreaterThanORequalTo("Kierownik");return r.a.createElement("div",{className:"sorting-buttons-box"},r.a.createElement("p",{className:"sorting-buttons-box_paragraph"},"Poka\u017c zdarzenia:"),o.map(function(e){return r.a.createElement("button",{key:e.label,className:(a=e.path,(a===t?"btn-secondary":"btn-outline-secondary")+"  btn btn-sm sorting-buttons-box_sortingButton"),onClick:function(){return n(e.path)}},e.label);var a}),i&&r.a.createElement("button",{className:(a?"btn-danger":"btn-outline-danger")+"  btn btn-sm sorting-buttons-box_managerModeButton",onClick:s},"Tryb zarz\u0105dzania"))},ie=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a.submit=function(){var e=a.props,t=e.item,n=e.itemRepresentation,r=a.props.form,s=r.title,o=r.action;Object(E.confirmAlert)({title:s,message:a.props.form.message||n,buttons:[{label:"Potwierdzam",onClick:function(){return o(t)}},{label:"Anuluj",onClick:function(){return null}}]})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.form,t=e.btn_label,a=e.btn_css,n=e.isDisabled,s=void 0!==n&&n,o=this.props.disableButton,i=void 0!==o&&o;return s?r.a.createElement("button",{className:"btn "+a},t," "):r.a.createElement("button",{className:"btn "+a,onClick:this.submit,disabled:i},t)}}]),t}(n.Component),ce=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={user:{name:"",password:""}},a.form_confirmAlert={title:"Wylogowanie",btn_label:r.a.createElement("i",{className:"fa fas fa-sign-out"}),btn_css:"btn btn-outline-secondary btn-sm",action:function(){return a.logout()}},a.logout=Object(g.a)(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.logoutUser();case 3:window.location="/",e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),h.toast.error("Nie uda\u0142o si\u0119 poprawnie wylogowa\u0107");case 9:case"end":return e.stop()}},e,this,[[0,6]])})),a.handleInputOnChange=function(e){var t=e.currentTarget,n=Object(v.a)({},a.state.user);n[t.name]=t.value,a.setState({user:n})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=W.getUserFromJWT();this.setState({user:e})}},{key:"render_pLabel",value:function(){var e=this.state.user.name,t=e.indexOf(" ")-1;return"a"===e[t]?"Jeste\u015b zalogowana jako:":"Jeste\u015b zalogowany jako:"}},{key:"render",value:function(){var e=this.state.user;return r.a.createElement("div",{className:"logout-button-box"},r.a.createElement("div",{className:"logout-button-box__info"},r.a.createElement("p",null,this.render_pLabel()),r.a.createElement(J.a,{to:"/settings/user"},r.a.createElement("p",null,e.name))),r.a.createElement(ie,{item:e,itemRepresentation:"Czy chcesz si\u0119 wylogowa\u0107?",form:this.form_confirmAlert}))}}]),t}(n.Component),le=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={},a.schema={partialQty:j.a.number().min(1).max(9999).required().error(function(){return{message:a.errorMessage}})},a.inputValue=0,a.originalPartialQty=0,a.errorMessage="Podana ilo\u015b\u0107 musi by\u0107 okre\u015blona jako liczba i mie\u015bci\u0107 si\u0119 w zakresie 1-9999.",a.handleInputOnChange_partialDelivery=function(e){var t=e.currentTarget;a.inputValue=t.value},a.confirmGreaterDeliveryThanOrder=function(e){Object(E.confirmAlert)({title:"Ostrze\u017cenie!",message:"\u0141\u0105czna dostawa b\u0119dzie wi\u0119ksza ni\u017c zam\xf3wienie. Zatwierd\u017a dostaw\u0119 lub j\u0105 odrzu\u0107.",buttons:[{label:"Zatwierdzam",onClick:function(){e.partialQty+=parseInt(a.inputValue),a.props.form.action(e)}},{label:"Odrzucam",onClick:function(){}}]})},a.submit=function(){a.resetTaskData(),Object(E.confirmAlert)({customUI:function(e){var t=e.onClose,n=a.props.form.title;return r.a.createElement("div",{className:"confirmAlertInput"},r.a.createElement("h1",null,n),r.a.createElement("div",{className:"confirmAlertInput__input-box"},a.renderInputBoxGroup("Ilo\u015b\u0107","partialQty","number","Podaj ilo\u015b\u0107 jak\u0105 teraz dostarczasz",t,"autoFocus",a.handleInputOnChange_partialDelivery)),r.a.createElement("div",null,r.a.createElement("p",null,"* Podana warto\u015b\u0107 zostanie dodana do sumy zrealizowanej dostawy.")),r.a.createElement("div",{className:"confirmAlertInput__button-group"},a.renderButton("Dodaj",function(){return a.doSubmit(t)}),a.renderButton("Anuluj",t)))}})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.originalPartialQty=this.props.task.partialQty,this.setState({item:this.props.task})}},{key:"resetTaskData",value:function(){this.inputValue=0}},{key:"doSubmit",value:function(e){var t=this.state.item,a=this.validate({partialQty:this.inputValue});if(a)return h.toast.error(a),null;e(),t.qty<t.partialQty+parseInt(this.inputValue)?this.confirmGreaterDeliveryThanOrder(t):(t.partialQty+=parseInt(this.inputValue),this.props.form.action(t))}},{key:"render",value:function(){return r.a.createElement("button",{className:this.props.form.btn_css,onClick:this.submit},this.props.form.btn_label)}}]),t}(O),ue=function(e){var t={title:"Potwierd\u017a zako\u0144czenie zdarzenia",btn_label:r.a.createElement("p",null,r.a.createElement("span",{className:"task-box_btn-label_full"},"Zako\u0144cz"),r.a.createElement("span",{className:"task-box_btn-label_short"},"Z")),btn_css:"btn-danger btn-sm",action:function(t){return e.onhandleCloseTask(t)}},a={title:"Potwierd\u017a usuni\u0119cie zdarzenia z rejestru",btn_label:r.a.createElement("p",null,r.a.createElement("span",{className:"task-box_btn-label_full"},"Usu\u0144"),r.a.createElement("span",{className:"task-box_btn-label_short"},"X")),btn_css:"btn-outline-danger btn-sm",action:function(t){return e.onhandleDeleteTaskFromDataBase(t)}},n={title:"Zarejestruj bierz\u0105c\u0105 dostaw\u0119",btn_label:r.a.createElement("p",null,r.a.createElement("span",{className:"task-box_btn-label_full"},"Dostawa"),r.a.createElement("span",{className:"task-box_btn-label_short"},"D")),btn_css:"btn-primary btn-sm",action:function(t){return e.onhandlePartialDelivery(t)}};function s(e,t){return r.a.createElement(ie,{item:e,itemRepresentation:e.content,form:t})}function o(e,o,c){if("#"===o.path)return c;if("content"===o.path)return function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"task-box__task_content-text"},e.content),r.a.createElement("div",{className:"task-box__task_content-createdInFormatedData"},e.createdInFormatedData))}(e);if("status"===o.path)return function(e){var t=e.isDone?"status_dot-ok":"status_dot-ng";return r.a.createElement("div",{className:t})}(e);if("qty"===o.path)return"order"===e.type?function(e){var t=e.partialQty?e.partialQty:0;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"task-box__task_qty-main"},e.qty),!e.isDone&&r.a.createElement("div",{className:"task-box__task_qty-partialDelivery"},"(",t,")"))}(e):"";if("partialQty"===o.path)return"order"===e.type?e.partialQty:"";if("location"===o.path)return e.location;if("time"===o.path)return e.time>=1400?"24h+":e.time;if("takedBy"===o.path)return function(e){return"order"===e.type||"orderTakeout"===e.type?e.takedBy?e.takedBy:"?":e.createdBy}(e);if("btnClose"===o.path&&!e.isDone)return s(e,t);if("take"!==o.path||e.isDone){if("createdInFormatedData"===o.path)return e.createdInFormatedData;if("btnDelete"===o.path)return s(e,a)}else{if("order"===e.type&&e.takedBy===W.getUserFromJWT().name)return function(e){return r.a.createElement(le,{task:e,form:n})}(e);if("order"===e.type||"orderTakeout"===e.type)return s(e,i(e))}}function i(t){var a=c.takedBy===W.getUserFromJWT().name,n=a&&!c.isDOne?"btn-primary btn-sm":"btn-outline-secondary btn-sm",s=a?"Obs\u0142ugujesz":t.takedBy?"Przejmij":"Bierz zlecenie",o=a?"T":t.takedBy?"P":"B";return{title:c.takedBy?c.takedBy!==W.getUserFromJWT().name?"Potwierd\u017a przej\u0119cie zlecenia":"":"Potwierd\u017a przyj\u0119cie zlecenia",btn_label:r.a.createElement("div",null,r.a.createElement("span",{className:"task-box_btn-label_full"},s),r.a.createElement("span",{className:"task-box_btn-label_short"},o)),btn_css:t.takedBy?n:"btn-warning btn-sm",isDisabled:a,action:function(t){return e.onhandleTakeTask(t)}}}var c=e.task,l=e.columns,u=e.index;return r.a.createElement("div",{className:"task-box__task "+function(e){return e.isDone?"task-box__task-color_ok":e.partialTime>=10||"breakdown"===e.type?"task-box__task-color_ng":"modelChange"===e.type||"cleaning"===e.type?"task-box__task-color_warning":""}(c)},l.map(function(e){return r.a.createElement("div",{key:c._id+e.path,className:x.getCustomTaskCss(e.path,"task")},o(c,e,u))}))},pe=a(47),me=a(42),de=function(e){var t=[{label:"#",path:"#"},{label:"Zdarzenie",path:"content"},{label:"Status",path:"status"},{label:"Ilo\u015b\u0107",path:"qty"},{label:"Dostarczono",path:"partialQty"},{label:"Miejsce",path:"location"},{label:"Czas",path:"time"}],a=[{label:"",path:"take"},{label:"",path:"btnClose"},{label:"Data rejestracji",path:"createdInFormatedData"},{label:"Obs\u0142uguje",path:"takedBy"},{label:"",path:"btnDelete"}];function n(t){return"Koordynator"===t?W.getUserJobValue(e.serviceMode_jobName)>=W.getUserJobValue(t):e.serviceMode_jobName===t}var s=function(){var t=e.data;return t=function(t){var a=e.currentSortingStatus;return"All"===a?t:t.filter(function(e){return e.isDone===a})}(t=function(t){var a=e.currentLocation;return"Magazyn"===a.category?t:"Utrzymanie ruchu"===a.category?t.filter(function(e){return"breakdown"===e.type}):t.filter(function(e){return e.location===a.name})}(t))}(),o=function(){var r=[].concat(t),s=e.currentLocation;return r.push(a[3]),(e.serviceMode?n("Magazynier"):W.isCurrentUserEqualTo("Magazynier"))&&r.push(a[0]),(e.serviceMode?n("Operator"):W.isCurrentUserEqualTo("Operator"))&&r.push(a[1]),"Utrzymanie ruchu"!==s.category&&(e.serviceMode?n("Koordynator"):W.isCurrentUserGreaterThanORequalTo("Koordynator"))&&r.push(a[2]),e.deleteTaskMode&&(r.push(a[1]),r.push(a[4])),r}();return r.a.createElement("div",{className:"task-box"},function(t){var a="UTRZYMANIE RUCHU"===e.currentLocation.name?" invisible":"";function n(e){return"qty"===e.path?a:""}return r.a.createElement("div",{className:"task-box__header"},t.map(function(e){return r.a.createElement("div",{key:e.path,className:x.getCustomTaskCss(e.path,"header")+n(e)},e.label)}))}(o),function(t,a){return r.a.createElement(me.a,null,function(n){var s=n.height,o=n.width;return r.a.createElement(pe.a,{itemData:t,height:s-50,width:o,itemCount:t.length,itemSize:43},function(t){var n=t.data,s=t.index,o=t.style,i=n[s];return r.a.createElement("div",{style:Object(v.a)({},o)},r.a.createElement(ue,{key:i._id,index:s+1,task:i,columns:a,serviceMode:e.serviceMode,serviceMode_jobName:e.serviceMode_jobName,onhandleCloseTask:e.onhandleCloseTask,onhandleTakeTask:e.onhandleTakeTask,onhandlePartialDelivery:e.onhandlePartialDelivery,onhandleDeleteTaskFromDataBase:e.onhandleDeleteTaskFromDataBase}))})})}(s,o))},he=function(){return r.a.createElement("div",{className:"common__loader_box"},r.a.createElement("div",{className:"common__loader_box_loader"}))},fe="/tasks";function be(){return(be=Object(g.a)(y.a.mark(function e(){var t,a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.get(fe);case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),e.t0&&e.t0.response?h.toast.error(e.t0.response.data):h.toast.error("Nie mo\u017cna uzyska\u0107 danych o zdarzeniach.");case 11:case"end":return e.stop()}},e,this,[[0,8]])}))).apply(this,arguments)}function ve(){return(ve=Object(g.a)(y.a.mark(function e(t){var a,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.post(fe,t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function _e(){return(_e=Object(g.a)(y.a.mark(function e(t){var a,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.put(fe+"/"+t._id,t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ke(){return(ke=Object(g.a)(y.a.mark(function e(t){var a,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.delete(fe+"/"+t._id);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var ye={getTasks:function(){return be.apply(this,arguments)},addTask:function(e){return ve.apply(this,arguments)},updateTask:function(e){return _e.apply(this,arguments)},deleteteTask:function(e){return ke.apply(this,arguments)}},ge=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],currentSortingStatus:!1,currentLocalisation:{name:""},validLocalisations:[],deleteTaskMode:!1,serviceMode:!1,serviceMode_jobName:"Admin"},a.isSupervisor=W.isCurrentUserGreaterThanORequalTo("Koordynator"),a.handleChangeDeleteTaskMode=function(){var e=a.state.deleteTaskMode;e=!e,a.setState({deleteTaskMode:e})},a.handleChangeSortingStatus=function(e){a.setState({currentSortingStatus:e})},a.handleChangeServiceMode=function(){a.setState({serviceMode:!a.state.serviceMode,serviceMode_jobName:W.getUserFromJWT().job})},a.handleChangeServiceModeJob=function(e){a.setState({serviceMode_jobName:e})},a.handleChangeCurrentLocation=function(e){a.setState({currentLocalisation:e})},a.handleAddTask=function(){var e=Object(g.a)(y.a.mark(function e(t){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.location=a.state.currentLocalisation.name,t.createdBy=W.getUserFromJWT().name,e.next=4,ye.addTask(t);case 4:n=e.sent,a.updateTaskList(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleDeleteTaskFromDataBase=function(){var e=Object(g.a)(y.a.mark(function e(t){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye.deleteteTask(t);case 2:n=e.sent,a.updateTaskList(n);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleCloseTask=function(){var e=Object(g.a)(y.a.mark(function e(t){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[{property:"isDone",value:!0},{property:"closedBy",value:W.getUserFromJWT().name}],a.handleUpdateTask(t,n);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleTakeTask=function(){var e=Object(g.a)(y.a.mark(function e(t){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[{property:"takedBy",value:W.getUserFromJWT().name}],a.handleUpdateTask(t,n);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handlePartialDelivery=function(){var e=Object(g.a)(y.a.mark(function e(t){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[{property:"partialQty",value:t.partialQty},{property:"partialTime",value:0}],a.handleUpdateTask(t,n);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleUpdateTask=function(){var e=Object(g.a)(y.a.mark(function e(t,n){var r,s;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.forEach(function(e){return t[e.property]=e.value}),e.next=3,ye.updateTask(t);case 3:t=e.sent,r=Object(_.a)(a.state.data),s=r.findIndex(function(e){return e._id===t._id}),r[s]=t,a.setState({data:r});case 8:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(y.a.mark(function e(){var t,a,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.redirectIfNeeded(),e.prev=1,e.next=4,ye.getTasks();case 4:return t=e.sent,e.next=7,se.getVerifiedUserLocalisations();case 7:a=e.sent,n=this.getCurrentLocalisation(a),this.setState({data:t,validLocalisations:a,currentLocalisation:n}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),e.t0&&e.t0.response&&h.toast.error("Problem z pobraniem danych z serwera.");case 15:this.set_Interval_ToRefreshData();case 16:case"end":return e.stop()}},e,this,[[1,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.mounted=!1,clearInterval(this.run_interval_refreshData)}},{key:"set_Interval_ToRefreshData",value:function(){this.mounted=!0,this.run_interval_refreshData()}},{key:"run_interval_refreshData",value:function(){var e=this;setInterval(Object(g.a)(y.a.mark(function t(){return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.mounted){t.next=7;break}return t.t0=e,t.next=4,ye.getTasks();case 4:t.t1=t.sent,t.t2={data:t.t1},t.t0.setState.call(t.t0,t.t2);case 7:case"end":return t.stop()}},t,this)})),1e4)}},{key:"redirectIfNeeded",value:function(){var e=Object(g.a)(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.getSelectedLocalisation(this.props.match.params.id);case 2:e.sent||this.isSupervisor||(window.location="/select-localisation");case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getCurrentLocalisation",value:function(e){var t=this,a=e.filter(function(e){return e.path===t.props.location.pathname});return a[0]?a[0]:e[0]}},{key:"updateTaskList",value:function(e){var t=Object(v.a)({},this.state).data,a=t.findIndex(function(t){return t._id===e._id});-1===a?t.unshift(e):t.splice(a,1),this.setState({data:t})}},{key:"render",value:function(){var e=this.state,t=e.currentLocalisation,a=e.currentSortingStatus,n=e.validLocalisations,s=e.data,o=e.deleteTaskMode,i=e.serviceMode,c=e.serviceMode_jobName;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{currentLocation:t,validLocations:n,serviceMode:i,serviceMode_jobName:c,onChangeCurrentLocation:this.handleChangeCurrentLocation,onhandleAddTask:this.handleAddTask,onhandleChangeServiceMode:this.handleChangeServiceMode,onhandleChangeServiceModeJob:this.handleChangeServiceModeJob}),s&&0===s.length&&r.a.createElement(he,null),s&&s&&r.a.createElement("div",{className:"app__content"},r.a.createElement("div",{className:"app__container-buttons"},r.a.createElement(oe,{currentSortingStatus:a,deleteTaskMode:o,onChangeSortingStatus:this.handleChangeSortingStatus,onhandleChangeDeleteTaskMode:this.handleChangeDeleteTaskMode}),r.a.createElement(ce,null)),r.a.createElement(de,{data:s,currentLocation:t,currentSortingStatus:a,deleteTaskMode:o,serviceMode:i,serviceMode_jobName:c,onhandleCloseTask:this.handleCloseTask,onhandleTakeTask:this.handleTakeTask,onhandlePartialDelivery:this.handlePartialDelivery,onhandleDeleteTaskFromDataBase:this.handleDeleteTaskFromDataBase})))}}]),t}(n.Component),Ee=a(95),we=a(43),je=a.n(we),xe="/getExcelFile";function Oe(){return(Oe=Object(g.a)(y.a.mark(function e(){var t,a,n,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Ne(),e.next=4,C.get(xe,{responseType:"arraybuffer"});case 4:a=e.sent,n=a.data,r=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet; base64"}),je.a.saveAs(r,t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),h.toast.error("Nie mo\u017cna \u015bci\u0105gn\u0105\u0107 pliku.");case 13:case"end":return e.stop()}},e,this,[[0,10]])}))).apply(this,arguments)}function Ne(){var e=(new Date).getTime(),t=new Date(e- -72e5).toISOString();return"FILMAG-Wykaz zdarze\u0144 - "+t.slice(0,10)+"-"+t.slice(11,13)+t.slice(14,16)+t.slice(17,19)+".xlsx"}var ze={getTasksInExcelFile:function(){return Oe.apply(this,arguments)}};function Te(){ze.getTasksInExcelFile()}var Ce=function(e){var t=e.validLocations,a=W.isCurrentUserGreaterThanORequalTo("Koordynator");return r.a.createElement("header",{className:"app__header"},r.a.createElement("div",{className:"app__header-title"},"Ustawienia"),r.a.createElement("div",{className:"app__header-barIcon"},r.a.createElement("i",{className:"fa fas fa-bars fa-3x"}),r.a.createElement("ul",{className:"app__header-menu"},r.a.createElement(G,{label:"Wy\u015bwietl zdarzenia",path:"/show-data",icon:"fa-align-justify"}),a&&r.a.createElement(Q,{items:t,action:function(){return null}}),a&&r.a.createElement("li",{className:"app__header-menu_item app__header-menu_item-option",onClick:Te},r.a.createElement("i",{className:"fa fa-download"}),"Pobierz zdarzenia do excel"))))},Ue=function(e){var t=e.label,a=e.path,n=e.css,s=void 0===n?"btn btn-secondary btn-sm":n;return r.a.createElement(J.a,{to:a},r.a.createElement("button",{className:s},t))},Se=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={item:{name:""}},a.schema={name:j.a.string().required().error(function(){return{message:a.errorMessages.name}})},a.errorMessages={name:"Nazwa nie mo\u017ce by\u0107 pusta."},a.submit=function(){Object(E.confirmAlert)({customUI:function(e){var t=e.onClose,n=a.props.form,s=n.title,o=n.p_label;return r.a.createElement("div",{className:"confirmAlertInput"},r.a.createElement("h1",null,s),r.a.createElement("div",{className:"confirmAlertInput__input-box"},a.renderInputBoxGroup(o,"name","text","Podaj dane",t,"autoFocus")),r.a.createElement("div",{className:"confirmAlertInput__button-group"},a.renderButton("Dodaj",function(){return a.doSubmit(t)}),a.renderButton("Anuluj",t)))}})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"doSubmit",value:function(e){var t=this.state.item,a=this.validate(t);if(a)return h.toast.error(a),null;this.props.form.action(t),e()}},{key:"render",value:function(){var e=this.props.form,t=e.btn_css,a=e.btn_label;return this.renderButton(a,this.submit,t)}}]),t}(O),Me=function(e){var t=e.options,a=e.currentValue,n=e.item,s=e.isDisabled,o=void 0!==s&&s,i=e.onChange,c=e.selectOptions,l=c?c(t,a):t;return r.a.createElement("div",{className:""},r.a.createElement("select",{className:"custom-select",name:n,onChange:i,value:a,disabled:o},l.map(function(e){return r.a.createElement("option",{key:e.name,disabled:e.isDisabled,className:"a",value:e.value},e.name)})))},De=function(e){var t=e.action,a=e.item,n=e.isChecked,s=e.isDisabled,o=void 0!==s&&s,i=n?"fa fas fa-check fa-check-yes":"fa fas fa-check fa-check-no";return r.a.createElement("button",{className:"btn",disabled:o,onClick:function(){return t(a)}},r.a.createElement("i",{className:i}," "))},Le=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={users:[]},e.form_deleteUser={title:"Potwierd\u017a usuni\u0119cie konta",btn_label:r.a.createElement("p",null,r.a.createElement("span",{className:"user__content_btn-label_full"},"Usu\u0144 konto"),r.a.createElement("span",{className:"user__content_btn-label_short"},"X")),btn_css:"btn btn-danger btn-sm",action:function(t){return e.handleDeleteUser(t)}},e.form_resetPassword={title:"Resetowanie has\u0142o",btn_label:r.a.createElement("div",null,r.a.createElement("span",{className:"user__content_btn-label_full"},"Resetuj has\u0142o"),r.a.createElement("span",{className:"user__content_btn-label_short"},"R")),message:"Resetujesz has\u0142o u\u017cytkownika. Nowe has\u0142o: 12345.",btn_css:"btn btn-secondary btn-sm",action:function(t){return e.handleResetPassword(t)}},e.form_addteUser={title:"Dodaj konto u\u017cytkownika",p_label:"Login",btn_label:"Dodaj nowe konto",btn_css:"btn btn-success btn-sm",action:function(t){return e.handleAddUser(t)}},e.columns=[{label:"#",path:"#"},{label:"Pracownik",path:"name"},{label:"Stanowisko",path:"userJob"},{label:r.a.createElement("i",{className:"fa fas fa-desktop"}),path:"status"},{label:r.a.createElement("div",null,r.a.createElement("span",{className:"user__content_btn-label_full"},"Magazyn"),r.a.createElement("span",{className:"user__content_btn-label_short"},"MG")),path:"Magazyn"},{label:r.a.createElement("div",null,r.a.createElement("span",{className:"user__content_btn-label_full"},"Maszyny"),r.a.createElement("span",{className:"user__content_btn-label_short"},"MS")),path:"Maszyny"},{label:r.a.createElement("div",null,r.a.createElement("span",{className:"user__content_btn-label_full"},"Utrzymanie ruchu"),r.a.createElement("span",{className:"user__content_btn-label_short"},"UR")),path:"Utrzymanie ruchu"},{label:"",path:"btn-reset"}],e.options=[{name:"Operator"},{name:"Magazynier"},{name:"Prac. utrz. ruchu"},{name:"Koordynator"},{name:"Mistrz"},{name:"Kierownik"},{name:"Dyrektor"},{name:"Prezes"},{name:"Admin"},{name:"SuperAdmin"}],e.schema={name:j.a.string().min(5).required().error(function(){return{message:"Podana nazwa jest za kr\xf3tka. Minimum to 5 znak\xf3w."}}),password:j.a.string().min(5).required().error(function(){return{message:"Podane has\u0142o jest za kr\xf3tkie. Minimum to 5 znak\xf3w."}})},e.handleDeleteUser=function(){var t=Object(g.a)(y.a.mark(function t(a){var n,r,s;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.deleteUser(a);case 3:if(n=t.sent,r=Object(_.a)(e.state.users),!((s=r.findIndex(function(e){return e._id===n._id}))<0)){t.next=8;break}return t.abrupt("return");case 8:r.splice(s,1),e.setState({users:r}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),t.t0&&t.t0.response&&h.toast.error(t.t0.response.data);case 15:case"end":return t.stop()}},t,this,[[0,12]])}));return function(e){return t.apply(this,arguments)}}(),e.handleAddUser=function(){var t=Object(g.a)(y.a.mark(function t(a){var n,r,s;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n={name:a.name,password:"12345"},!(r=e.validateNewUser(n))){t.next=6;break}return h.toast.error(r),t.abrupt("return",null);case 6:return t.next=8,W.addUser(n);case 8:n=t.sent,(s=Object(_.a)(e.state.users)).unshift(n),e.setState({users:s}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),t.t0&&t.t0.response&&h.toast.error(t.t0.response.data);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(e){return t.apply(this,arguments)}}(),e.handleResetPassword=function(){var e=Object(g.a)(y.a.mark(function e(t){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.resetUserPassword({_id:t._id,password:"12345"});case 3:h.toast.info("Zmieniono has\u0142o u\u017cytkownika."),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0&&e.t0.response&&h.toast.error(e.t0.response.data);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),e.updateUserPermissions=function(){var t=Object(g.a)(y.a.mark(function t(a){var n,r,s,o,i;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.userN,r=a.area,s=e.chamgeUserPermisions(n,r),t.next=4,W.updateUser(s);case 4:s=t.sent,o=Object(_.a)(e.state.users),i=o.findIndex(function(e){return e._id===s._id}),o[i]=s,e.setState({users:o});case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.handleInputOnChange=function(){var t=Object(g.a)(y.a.mark(function t(a){var n,r,s,o;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.currentTarget,r=Object(_.a)(e.state.users),s=r.findIndex(function(e){return e._id===n.name}),(o=r[s]).job=n.value,t.next=7,W.updateUser(o);case 7:r[s]=t.sent,e.setState({users:r});case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.renderCellContent=function(t,a){var n=e.state.users;return"#"===a.path?n.indexOf(t)+1:"name"===a.path?t.name:"userJob"===a.path?e.renderInputCustomSelect(t):"status"===a.path?e.renderUserStatus(t):"Magazyn"===a.path?e.renderCheckBox(t,"Magazyn"):"Maszyny"===a.path?e.renderCheckBox(t,"Maszyna"):"Utrzymanie ruchu"===a.path?e.renderCheckBox(t,"Utrzymanie ruchu"):t.isDone||"btn-reset"!==a.path?t.isDone||"btn-delete"!==a.path?void 0:e.renderButton(t,e.form_deleteUser):e.renderButton(t,e.form_resetPassword)},W.isCurrentUserGreaterThanORequalTo("Admin")&&e.columns.push({label:"",path:"btn-delete"}),e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,W.getUsers();case 3:e.t1=e.sent,e.t2={users:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"validateNewUser",value:function(e){var t=j.a.validate(e,this.schema).error;return t?t.details[0].message:null}},{key:"chamgeUserPermisions",value:function(e,t){var a=e.permissions.indexOf(t);return a>=0?e.permissions.splice(a,1):e.permissions.push(t),e}},{key:"checkDisabledOptions",value:function(){return this.options.map(function(e){return{name:e.name,isDisabled:W.isCurrentUserLessThan(e.name)}})}},{key:"selectOptions",value:function(e,t){return W.isCurrentUserLessThanORequalTo(t)?e.filter(function(e){return e.name===t}):e.filter(function(e){return W.isCurrentUserGreaterThan(e.name)})}},{key:"isChecked",value:function(e,t){return e.indexOf(t)>=0}},{key:"renderCheckBox",value:function(e,t){var a=!W.isCurrentUserGreaterThan(e.job);return r.a.createElement(De,{item:{userN:e,area:t},isChecked:this.isChecked(e.permissions,t),isDisabled:a,action:this.updateUserPermissions})}},{key:"renderUserStatus",value:function(e){return r.a.createElement("div",{className:"user__status"},r.a.createElement("div",{className:e.isLogged?"status_dot-ok":"status_dot-ng"}),r.a.createElement("div",{className:"invisible"},"invisible text. Do not remove."))}},{key:"renderButton",value:function(e,t){var a=!W.isCurrentUserGreaterThan(e.job);return r.a.createElement(ie,{item:e,itemRepresentation:e.name,form:t,disableButton:a})}},{key:"renderInputCustomSelect",value:function(e){var t=!W.isCurrentUserGreaterThan(e.job);return r.a.createElement(Me,{item:e._id,currentValue:e.job,isDisabled:t,options:this.checkDisabledOptions(),onChange:this.handleInputOnChange,selectOptions:this.selectOptions})}},{key:"renderAddUserButton",value:function(){return r.a.createElement(Se,{form:this.form_addteUser})}},{key:"renderHeader",value:function(e,t,a){return r.a.createElement("div",{className:t},e.map(function(e){return r.a.createElement("div",{key:e.path,className:a},e.label)}))}},{key:"renderUsers",value:function(e,t,a,n){var s=this;return r.a.createElement("div",{className:t},e.map(function(e){return r.a.createElement("div",{key:e._id,className:a},s.columns.map(function(t){return r.a.createElement("div",{key:e._id+t.path,className:n},s.renderCellContent(e,t))}))}))}},{key:"render",value:function(){var e=W.isCurrentUserGreaterThanORequalTo("Admin");return r.a.createElement("div",{className:"app__content"},r.a.createElement("div",{className:"app__container-buttons"},r.a.createElement("div",{className:"settings__switch-buttons"},r.a.createElement(Ue,{label:"Wy\u015bwietl zdarzenia",path:"/show-data",css:"btn btn-sm btn-primary"}),r.a.createElement(Ue,{label:"Lokalizacje",path:"/settings/localisations"}),r.a.createElement(Ue,{label:"M\xf3j profil",path:"/settings/user"}),e&&this.renderAddUserButton()),r.a.createElement(ce,null)),r.a.createElement("div",{className:"users"},this.renderHeader(this.columns,"user user__header","user__content"),this.renderUsers(this.state.users,"user__wrapper","user","user__content")))}}]),t}(n.Component),Ie=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={localisations:[]},e.columns=[{label:"#",path:"#"},{label:"Nazwa",path:"name"},{label:"Kategoria",path:"category"}],e.options=[{name:"",value:""},{name:"Magazyn",value:"Magazyn"},{name:"Maszyna",value:"Maszyna"},{name:"Utrzymanie ruchu",value:"Utrzymanie ruchu"}],e.form_confirmAlert={title:"Potwierd\u017a usuni\u0119cie lokalizacji",btn_label:r.a.createElement("p",null,r.a.createElement("span",{className:"localisation__content_btn-label_full"},"Usu\u0144 lokalizacj\u0119"),r.a.createElement("span",{className:"localisation__content_btn-label_short"},"X")),btn_css:"btn-danger btn-sm",action:function(t){return e.handleDeleteLocalisation(t)}},e.form_addLocalisation={title:"Dodaj now\u0105 lokalizacj\u0119",p_label:"Nazwa",btn_label:"Dodaj now\u0105 lokalizacj\u0119",btn_css:"btn btn-success btn-sm",action:function(t){return e.handleAddLocalisation(t)}},e.handleDeleteLocalisation=function(){var t=Object(g.a)(y.a.mark(function t(a){var n,r,s;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,se.deleteLocalisation(a);case 3:if(n=t.sent,r=e.state.localisations,!((s=r.findIndex(function(e){return e._id===n._id}))<0)){t.next=8;break}return t.abrupt("return");case 8:r.splice(s,1),e.setState({localisations:r}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),t.t0&&t.t0.response&&h.toast.error(t.t0.response.data);case 15:case"end":return t.stop()}},t,this,[[0,12]])}));return function(e){return t.apply(this,arguments)}}(),e.handleAddLocalisation=function(){var t=Object(g.a)(y.a.mark(function t(a){var n,r,s;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a.name){t.next=4;break}return h.toast.error("Nie dodano nowej lokalizacji. Nazwa nie mo\u017ce by\u0107 pusta."),t.abrupt("return",null);case 4:return t.next=6,se.addLocalisation(a);case 6:n=t.sent,r=Object(v.a)({},e.state),(s=r.localisations).unshift(n),e.setState({localisations:s}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),t.t0&&t.t0.response&&h.toast.error(t.t0.response.data);case 15:case"end":return t.stop()}},t,this,[[0,12]])}));return function(e){return t.apply(this,arguments)}}(),e.handleInputOnChange=function(){var t=Object(g.a)(y.a.mark(function t(a){var n,r,s,o;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.currentTarget,t.prev=1,r=Object(_.a)(e.state.localisations),s=r.findIndex(function(e){return e._id===n.name}),(o=r[s]).category=n.value,t.next=8,se.updateLocalisation(o);case 8:r[s]=t.sent,e.setState({localisations:r}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),t.t0&&t.t0.response&&h.toast.error(t.t0.response.data);case 15:case"end":return t.stop()}},t,this,[[1,12]])}));return function(e){return t.apply(this,arguments)}}(),e.renderCellContent=function(t,a){var n=e.state.localisations,r=e.form_confirmAlert;return"#"===a.path?n.indexOf(t)+1:"name"===a.path?t.name:"category"===a.path?e.renderInputCustomSelect(t):"btn-delete"===a.path?e.renderConfirmAlert(t,r):void 0},W.isCurrentUserGreaterThanORequalTo("Admin")&&e.columns.push({label:"",path:"btn-delete"}),e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,se.getLocalisations();case 3:e.t1=e.sent,e.t2={localisations:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderInputCustomSelect",value:function(e){return r.a.createElement(Me,{item:e._id,currentValue:e.category,options:this.options,onChange:this.handleInputOnChange})}},{key:"renderConfirmAlert",value:function(e,t){return r.a.createElement(ie,{item:e,itemRepresentation:e.name,form:t})}},{key:"renderAddLocalisationButton",value:function(){return r.a.createElement(Se,{form:this.form_addLocalisation})}},{key:"renderHeader",value:function(e,t,a){return r.a.createElement("div",{className:t},e.map(function(e){return r.a.createElement("div",{key:e.path,className:a},e.label)}))}},{key:"renderLocalisations",value:function(e,t,a,n){var s=this;return r.a.createElement("div",{className:t},e.map(function(e){return r.a.createElement("div",{key:e._id,className:a},s.columns.map(function(t){return r.a.createElement("div",{key:e._id+t.path,className:n},s.renderCellContent(e,t))}))}))}},{key:"render",value:function(){var e=W.isCurrentUserGreaterThanORequalTo("Admin");return r.a.createElement("div",{className:"app__content"},r.a.createElement("div",{className:"app__container-buttons"},r.a.createElement("div",{className:"settings__switch-buttons"},r.a.createElement(Ue,{label:"Wy\u015bwietl zdarzenia",path:"/show-data",css:"btn btn-sm btn-primary"}),r.a.createElement(Ue,{label:"U\u017cytkownicy",path:"/settings/users"}),r.a.createElement(Ue,{label:"M\xf3j profil",path:"/settings/user"}),e&&this.renderAddLocalisationButton()),r.a.createElement(ce,null)),r.a.createElement("div",{className:"localisations"},this.renderHeader(this.columns,"localisation localisation__header","localisation__content"),this.renderLocalisations(this.state.localisations,"localisation__wrapper","localisation","localisation__content")))}}]),t}(n.Component),Pe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:{}},a.form_resetPassword={title:"Zmie\u0144 has\u0142o",p_label:"Has\u0142o",btn_label:"Zmie\u0144 has\u0142o",btn_css:"btn btn-outline-danger btn-sm",action:function(e){return a.handleResetPassword(e)}},a.schema={password:j.a.string().min(5).required().error(function(){return{message:"Podane has\u0142o jest za kr\xf3tkie. Minimum to 5 znak\xf3w."}})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(y.a.mark(function e(){var t;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=W.getUserFromJWT(),this.setState({user:t});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleResetPassword",value:function(){var e=Object(g.a)(y.a.mark(function e(t){var a,n,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.name,(n=Object(v.a)({},this.state.user)).password=a,!(r=this.validateNewPassword({password:a},this.schema))){e.next=7;break}return h.toast.error(r),e.abrupt("return",null);case 7:return e.next=9,W.resetUserPassword(n);case 9:n=e.sent,h.toast.success("Zaktualizowano has\u0142o"),this.setState({user:n});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validateNewPassword",value:function(e){var t=j.a.validate(e,this.schema).error;return t?t.details[0].message:null}},{key:"renderSettingsNavigationButtons",value:function(){return r.a.createElement("div",{className:"settings__switch-buttons"},r.a.createElement(Ue,{label:"Wy\u015bwietl zdarzenia",path:"/show-data",css:"btn btn-sm btn-primary"}),r.a.createElement(Ue,{label:"U\u017cytkownicy",path:"/settings/users"}),r.a.createElement(Ue,{label:"Lokalizacje",path:"/settings/localisations"}))}},{key:"renderReturnButton",value:function(){return r.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:this.props.history.goBack},"Powr\xf3\u0107 do wybranej lokalizacji")}},{key:"render",value:function(){var e=W.getUserFromJWT(),t=e.permissions,a=e.name,n=W.isCurrentUserGreaterThanORequalTo("Koordynator"),s=t.length>0?t.join(", "):"Brak uprawnie\u0144.";return r.a.createElement("div",{className:"app__content"},r.a.createElement("div",{className:"app__container-buttons"},!n&&this.renderReturnButton(),n&&this.renderSettingsNavigationButtons(),r.a.createElement("div",null),r.a.createElement(ce,null)),r.a.createElement("div",{className:"settings__user-page"},r.a.createElement("div",{className:"settings__user-page_user_box"},r.a.createElement("h2",null,"Profil u\u017cytkownika"),r.a.createElement("div",{className:"settings__user-page_user_box__info-box"},r.a.createElement("div",{className:"settings__user-page_user_box__info-box_group"},r.a.createElement("p",null,"Login:"),r.a.createElement("div",null,a))),r.a.createElement("div",{className:"settings__user-page_user_box__info-box_group"},r.a.createElement("p",null,"Has\u0142o :"),r.a.createElement("div",null,r.a.createElement(Se,{form:this.form_resetPassword}))),r.a.createElement("div",{className:"settings__user-page_user_box__info-box"},r.a.createElement("div",{className:"settings__user-page_user_box__info-box_permissions"},r.a.createElement("p",null,"Masz dost\u0119p do lokalizacji typu:"),r.a.createElement("div",null,"- ",s,"."))))))}}]),t}(n.Component),Ae=a(44),Be=function(e){var t=e.path,a=e.requireUserLevel,n=e.redirectPath,s=e.component,o=e.render,i=Object(Ae.a)(e,["path","requireUserLevel","redirectPath","component","render"]);if(!W.getUserFromJWT())return r.a.createElement(Ee.a,{to:n});var c=W.isCurrentUserLessThan(a);return r.a.createElement(d.a,Object.assign({path:t},i,{render:function(e){return c?r.a.createElement(Ee.a,{to:n}):s?r.a.createElement(s,e):o(e)}}))},Fe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce,{validLocations:[{label:"Wykaz u\u017cytkownik\xf3w",path:"/settings/users"},{label:"Wykaz lokalizacji",path:"/settings/localisations"},{label:"Uprawnienia u\u017cytkownik\xf3w",path:"/settings/permissions"},{label:"M\xf3j profil",path:"/settings/user"}]}),r.a.createElement(m.a,null,r.a.createElement(Be,{path:"/settings/localisations",requireUserLevel:"Koordynator",component:Ie,redirectPath:"/no-permissions"}),r.a.createElement(Be,{path:"/settings/users",requireUserLevel:"Koordynator",component:Le,redirectPath:"/no-permissions"}),r.a.createElement(Be,{path:"/settings/user",requireUserLevel:"Operator",component:Pe,redirectPath:"/login"}),r.a.createElement(Ee.a,{from:"/settings",to:"/settings/users"})))},qe=a(45),Re=a.n(qe),We=a(46),Je=a.n(We),Ge=function(){return r.a.createElement("div",{className:"advertising"},r.a.createElement("div",{className:"advertising__logo-box"},r.a.createElement("img",{src:Re.a,alt:"logoEduLEAN"}),r.a.createElement("img",{src:Je.a,alt:"logoEkopak"})))},Ke=function(){if(!W.getUserFromJWT())return r.a.createElement(Ee.a,{to:"/login"});var e=W.isCurrentUserGreaterThanORequalTo("Koordynator");return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"app__header"},r.a.createElement("div",{className:"app__header-title"},"FILMAG")),r.a.createElement("div",{className:"app__content"},r.a.createElement("div",{className:"app__container-buttons"},r.a.createElement("div",{className:"settings__switch-buttons"},r.a.createElement(Ue,{label:"Wy\u015bwietl zdarzenia",path:"/show-data",css:"btn btn-sm btn-primary"}),e&&r.a.createElement(Ue,{label:"Przejd\u017a do ustawie\u0144",path:"/settings/users"})),r.a.createElement(ce,null)),r.a.createElement(Ge,null)))},Qe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={validLocalisations:[]},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(y.a.mark(function e(){var t;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=W.getUserFromJWT().validLocalisations,this.setState({validLocalisations:t});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderSelectLocalisationButtons",value:function(){var e=this.state.validLocalisations;return e.map(function(e){return r.a.createElement(Ue,{key:e.name,label:e.name,path:e.path,css:"btn btn-secondary btn-sm select-localisation__valid-localiation"})})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"app__header"},r.a.createElement("div",{className:"app__header-title"},"FILMAG")),r.a.createElement("div",{className:"app__content"},r.a.createElement("div",{className:"select-localisation"},r.a.createElement("h1",null,"Wybierz lokalizacj\u0119"),r.a.createElement("div",{className:"select-localisation__wrapper"},this.renderSelectLocalisationButtons()))))}}]),t}(n.Component),Ze="/auth",Ve="token";function He(){return(He=Object(g.a)(y.a.mark(function e(t,a){var n,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.post(Ze+"/",{name:t,password:a});case 2:return n=e.sent,r=n.data,localStorage.setItem(Ve,r),e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Xe(){return localStorage.getItem(Ve)}T.a.defaults.headers.common["x-auth-token"]=Xe();var Ye={login:function(e,t){return He.apply(this,arguments)},getJwt:Xe},$e=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:{name:"",password:""},isWaitingForSerwerResponse:!1},a.schema={name:j.a.string().min(1).required().error(function(){return{message:"Za kr\xf3tki login."}}),password:j.a.string().min(5).required().error(function(){return{message:"Za kr\xf3tkie has\u0142o."}})},a.errorMessage="Obecnie Twoje konto nie posiada dost\u0119pu do \u017cadych lokalizacji. Zg\u0142o\u015b problem prze\u0142o\u017conemu lub adminowi.",a.handleInputOnChange=function(e){var t=e.currentTarget,n=Object(v.a)({},a.state.user);n[t.name]=t.value,a.setState({user:n})},a.handleLogin=Object(g.a)(y.a.mark(function e(){var t,n,r,s,o;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state.user,n=t.name,r=t.password,!(s=a.validateUser({name:n,password:r}))){e.next=5;break}return h.toast.error(s),e.abrupt("return",null);case 5:return a.runLoader(!0),e.prev=6,e.next=9,Ye.login(n,r);case 9:o=e.sent,localStorage.setItem("token",o),a.redirectUserToNextPath(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(6),!e.t0.response||400!==e.t0.response.status&&403!==e.t0.response.status||h.toast.error(e.t0.response.data),a.runLoader(!1);case 18:case"end":return e.stop()}},e,this,[[6,14]])})),a.redirectUserToNextPath=Object(g.a)(y.a.mark(function e(){var t;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=W.getUserFromJWT().validLocalisations,!W.isCurrentUserGreaterThanORequalTo("Koordynator")){e.next=6;break}window.location="/show-data/",e.next=16;break;case 6:if(!(t.length>1)){e.next=10;break}window.location="/select-localisation/",e.next=16;break;case 10:if(1!==t.length){e.next=14;break}window.location=t[0].path,e.next=16;break;case 14:return h.toast.error(a.errorMessage),e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this)})),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"runLoader",value:function(e){var t=this.state.isWaitingForSerwerResponse;t=e,this.setState({isWaitingForSerwerResponse:t})}},{key:"validateUser",value:function(e){var t=j.a.validate(e,this.schema).error;return t?t.details[0].message:null}},{key:"renderLoginBox",value:function(){var e=this;return r.a.createElement("div",{className:"login-page_login_box"},r.a.createElement("h1",null,"Zaloguj si\u0119"),r.a.createElement("div",{className:"login-page_login_box__input-box"},r.a.createElement("div",{className:"login-page_login_box__input-box_group"},r.a.createElement("p",null,"Login"),r.a.createElement("input",{name:"name",autoComplete:"off",autoFocus:!0,onChange:this.handleInputOnChange,onKeyPress:function(t){return x.runFunctionAfterPressEnter(t,e.handleLogin)}}))),r.a.createElement("div",{className:"login-page_login_box__input-box"},r.a.createElement("div",{className:"login-page_login_box__input-box_group"},r.a.createElement("p",null,"Has\u0142o"),r.a.createElement("input",{name:"password",autoComplete:"off",type:"password",onChange:this.handleInputOnChange,onKeyPress:function(t){return x.runFunctionAfterPressEnter(t,e.handleLogin)}}))),r.a.createElement("div",{className:"login-page_login_box__button-group"},r.a.createElement("button",{onClick:this.handleLogin},"Zaloguj si\u0119")))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"app__header"},r.a.createElement("div",{className:"app__header-title"},"FILMAG")),r.a.createElement("div",{className:"app__content"},r.a.createElement(Ge,null),r.a.createElement("div",{className:"login-page"},this.state.isWaitingForSerwerResponse&&r.a.createElement(he,null),!this.state.isWaitingForSerwerResponse&&this.renderLoginBox())))}}]),t}(n.Component),et=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"app__header"}),r.a.createElement("div",{className:"app__content"},r.a.createElement("div",{className:"app__container-buttons"},r.a.createElement("div",null),r.a.createElement(ce,null)),r.a.createElement("div",{className:"no-permissions-box"},r.a.createElement("h2",null,"ODMOWA DOST\u0118PU"),r.a.createElement("p",null,"Nie posiadasz uprawnie\u0144 do przegl\u0105dania zawarto\u015bci tej strony."),r.a.createElement(Ue,{label:"Przejd\u017a do wyboru lokalizacji",path:"/select-localisation"}))))},tt=(a(88),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){try{var e=localStorage.getItem("token"),t=b()(e);this.setState({user:t})}catch(a){}}},{key:"render",value:function(){return document.title="FILMAG",r.a.createElement("div",{className:"App"},r.a.createElement(h.ToastContainer,null),r.a.createElement(m.a,null,r.a.createElement(Be,{path:"/show-data/:id",requireUserLevel:"Operator",redirectPath:"/login",component:ge}),r.a.createElement(Be,{path:"/show-data",requireUserLevel:"Operator",redirectPath:"/login",component:ge}),r.a.createElement(Be,{path:"/select-localisation",requireUserLevel:"Operator",redirectPath:"/login",component:Qe}),r.a.createElement(Be,{path:"/settings",requireUserLevel:"Operator",redirectPath:"/no-permissions",component:Fe}),r.a.createElement(Be,{path:"/no-permissions",requireUserLevel:"Operator",redirectPath:"/login",component:et}),r.a.createElement(d.a,{path:"/login",component:$e}),r.a.createElement(d.a,{path:"/",component:Ke})))}}]),t}(n.Component)),at=a(94);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(89),a(90),a(91);o.a.render(r.a.createElement(at.a,null,r.a.createElement(tt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[48,1,2]]]);
//# sourceMappingURL=main.524e4d52.chunk.js.map